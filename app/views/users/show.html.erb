<div id="profile">
  
<h1>Employee Profile</h1>

<p>
  <strong>First name:</strong>
  <%= @user.f_name %>
</p>

<p>
  <strong>Last name:</strong>
  <%= @user.l_name %>
</p>

<p>
  <strong>Address:</strong>
  <%= @user.address %>
</p>

<p>
  <strong>Phone:</strong>
  <%= @user.phone %>
</p>

<p>
  <strong>Sex:</strong>
  <%= @user.sex %>
</p>

<p>
  <strong>Date of birth:</strong>
  <%= @user.dob %>
</p>

<p>
  <strong>Start date:</strong>
  <%= @user.start_date %>
</p>

<p>
  <strong>Department:</strong>
  <%= @user.dept %>
</p>

<p>
  <strong>Role:</strong>
  <%= @user.role %>
</p>

<p>
  <strong>Salary:</strong>
  <%= @user.salary %>
</p>

<p>
  <strong>Manager:</strong>
  <%= @user.manager %>
</p>

<p>
  <strong>Notes/Comments:</strong>
  <%= @user.notes %>
</p>

<!-- The below section is set up to display any Active Leave requests that the user currently has.
This is determined depending on the Request Status being set to "Pending". -->

<p>
  <strong><h3>Active Leave Requests:</h3></strong><br>

  <% @request.each do |request| %>
  <% if request.status == "Pending" %>
<table style="width:100%">
  <tr>
    
<td>
  <strong>Employee Name:</strong></td>
<td>
  <strong>Date Commencing:</strong></td>
<td>
  <strong>Date Ending:</strong></td>
<td>
  <strong>Leave Type:</strong></td>
<td>
  <strong>Status:</strong></td>
  </tr>
  
  <tr>
  <td>
  <%= request.employee_name %></td>

  <td>
  <%= request.date_begin %></td>
  
  <td>
  <%= request.date_end %></td>
  
  <td>
  <%= request.leave_type %></td>
  
  <td>
  <%= request.status %></td>
  </tr>
  </table>
    <% end %>
    <% end %>
<br>

<!-- If the status of the request is anything other than "Pending" it will go into the Closed Requests section. -->
<p>
  <strong><h3>Closed Leave Requests:</h3></strong><br>
  <br>
  <% @request.each do |request| %>
  <% if request.status != "Pending" %>
<table style="width:100%">
  <tr>
    
<td>
  <strong>Employee Name:</strong></td>
<td>
  <strong>Date Commencing:</strong></td>
<td>
  <strong>Date Ending:</strong></td>
<td>
  <strong>Leave Type:</strong></td>
<td>
  <strong>Status:</strong></td>
  </tr>
  
  <tr>
  <td>
  <%= request.employee_name %></td>

  <td>
  <%= request.date_begin %></td>
  
  <td>
  <%= request.date_end %></td>
  
  <td>
  <%= request.leave_type %></td>
  
  <td>
  <%= request.status %></td>
  </tr>
  </table>
    <% end %>
  <% end %>

<br>


<%= link_to 'Edit Employee Profile', edit_path(@user) %>
</div>